<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Project_73 - Grid Development [v2.0]</title>
<!-- Revision marker (public copy) -->
<meta name="p73-revision" content="public-rev-fix-2b-{{TIMESTAMP}}" />
<link rel="icon" type="image/svg+xml" href="../favicon.svg" />
<link rel="apple-touch-icon" href="../favicon.svg" />
<script src="https://cdn.tailwindcss.com"></script>

<!-- Firebase SDK bootstrap -->
<script type="module" src="/DAY73-cloud/shared/firebase.js"></script>
<script>
 console.log('[P73] public/DAY73/grid-app-test.html loaded (public-rev-fix-2b)');
</script>

<link rel="stylesheet" href="/DAY73-cloud/grid-app.css" />
<link rel="stylesheet" href="/DAY73-cloud/notes-view.css" />
<link rel="stylesheet" href="/DAY73-cloud/modules/banners/banners.css" />
<link rel="stylesheet" href="/DAY73-cloud/modules/mobile/mobile.css" />
<link rel="stylesheet" href="/DAY73-cloud/modules/pokus/pokus.css" />
<link rel="stylesheet" href="/DAY73-cloud/dashboard-view.css" />
<link rel="stylesheet" href="https://cdn.quilljs.com/1.3.7/quill.snow.css" integrity="sha384-cPa8kzsYWhqpAfWOLWYIw3V0BhPi/m3lrd8tBTPxr2NrYCHRVZ7xy1cEoRGOM/03" crossorigin="anonymous" />
<script>
 // Set default view to dashboard if none specified
 (function setDefaultView(){
   try {
     const urlParams = new URLSearchParams(window.location.search);
     const view = urlParams.get('view');

     // If no view specified, set to dashboard
     if (!view) {
       const newUrl = window.location.pathname + '?view=dashboard' + window.location.hash;
       window.history.replaceState({}, '', newUrl);
     }
   } catch (error) {
     console.warn('[P73] setDefaultView failed:', error);
   }
 })();

 (function redirectMobilePreview(){
   try {
     const ua = navigator.userAgent || '';
     const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(ua);
     const host = location.hostname || '';
     const alreadyInLab = location.pathname.includes('/DAY73/sandbox/notes-mobile-lab/');
     const forcedDesktop = location.search.includes('desktop=1');
     if (isMobile && host.includes('--mobil-preview') && !alreadyInLab && !forcedDesktop) {
       const target = '/DAY73/sandbox/notes-mobile-lab/index.html';
       const hash = location.hash || '';
       location.replace(`${target}${hash}`);
     }
   } catch (error) {
     console.warn('[P73] redirectMobilePreview failed:', error);
   }
 })();
</script>
</head>
<body>
<div id="auth-gate" class="auth-gate hidden" role="dialog" aria-modal="true" aria-labelledby="auth-gate-title">
 <div class="auth-card">
   <h2 id="auth-gate-title">P≈ôihl√°≈°en√≠ po≈æadov√°no</h2>
   <p>P≈ôihlaste se Google √∫ƒçtem, abyste mohli pracovat s projektem Project_73.</p>
   <button id="auth-signin-btn" class="auth-btn" type="button">
     <span>Pokraƒçovat p≈ôes Google</span>
   </button>
   <div id="auth-error" class="auth-error" role="alert"></div>
 </div>
</div>
<!-- Top navigation bar (inline for this standalone file) -->
<header id="p73-topbar" class="p73-topbar">
 <div class="p73-topbar-brand">
   <span class="p73-topbar-brand-dot">‚óè</span>Project_73
 </div>
 <nav class="p73-topbar-nav">
   <a href="?view=dashboard" data-toplink="dashboard" class="p73-topbar-link">Dashboard</a>
   <a href="?view=grid" data-toplink="grid" class="p73-topbar-link">Grid</a>
   <a href="?view=elektrocz" data-toplink="elektrocz" class="p73-topbar-link">elektrocz.com</a>
  <a href="?view=notes" data-toplink="notes" class="p73-topbar-link">Pozn√°mky</a>
  <a href="/DAY73/notes-lab.html" data-toplink="notes-lab" class="p73-topbar-link" target="_blank" rel="noopener">Notes Lab</a>
<!-- <a href="?view=pokus" data-toplink="pokus" class="p73-topbar-link">POKUS</a> REMOVED - archived -->
  <a href="?view=mobile" data-toplink="mobile" class="p73-topbar-link">Mobil</a>
  <a href="?view=banners" data-toplink="banners" class="p73-topbar-link">Banery</a>
  <div class="p73-topbar-dropdown" data-dropdown="pokus2">
    <a href="?view=pokus2" data-toplink="pokus2" class="p73-topbar-link p73-topbar-link--dropdown" aria-haspopup="true" aria-expanded="false">POKUS 2</a>
    <div class="p73-dropdown-panel" role="menu" hidden>
      <header class="p73-dropdown-header">
        <div>
          <div class="p73-dropdown-eyebrow">Modulov√© experimenty</div>
          <h3>POKUS 2 workspace</h3>
          <p>Vyzkou≈°ej nov√© rozlo≈æen√≠ bez ovlivnƒõn√≠ hlavn√≠ aplikace.</p>
        </div>
        <a href="?view=pokus2" class="p73-dropdown-primary">Otev≈ô√≠t POKUS 2</a>
      </header>
      <div class="p73-dropdown-grid">
        <div class="p73-dropdown-card">
          <h4>Rychl√© akce</h4>
          <ul>
            <li><a href="?view=pokus2#grid">P≈ôepnout na m≈ô√≠≈æku</a></li>
            <li><a href="?view=pokus2&panel=notes">Pozn√°mky k experimentu</a></li>
            <li><a href="?view=pokus2&panel=assets">Nahr√°t asset</a></li>
          </ul>
        </div>
        <div class="p73-dropdown-card">
          <h4>Co testujeme</h4>
          <p>Dropdown navigace inspirovan√° Amazonem. Sleduj, jak se chov√° na r≈Øzn√Ωch
            velikostech obrazovky a p≈ôi p≈ôihl√°≈°en√≠.</p>
        </div>
        <div class="p73-dropdown-card">
          <h4>Dal≈°√≠ moduly</h4>
          <ul>
            <!-- <li><a href="?view=pokus">POKUS 1</a></li> REMOVED - archived -->
            <li><a href="?view=pokus3">POKUS 3</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
<!-- <a href="?view=pokus6" data-toplink="pokus6" class="p73-topbar-link">POKUS 6</a> REMOVED - archived -->
   <a href="?view=calendar#calendar" data-toplink="calendar" class="p73-topbar-link">Kalend√°≈ô</a>
   <a href="?view=assets" data-toplink="assets" class="p73-topbar-link">Assets</a>
   <a href="?view=gallery" data-toplink="gallery" class="p73-topbar-link">Galerie</a>
<!-- <a href="?view=snippets" data-toplink="snippets" class="p73-topbar-link">K√≥dy</a> REMOVED - archived -->
<!-- <a href="?view=super-modul" data-toplink="super-modul" class="p73-topbar-link">Super Modul</a> REMOVED - archived -->
   <a href="#" id="quick-deploy-btn" class="p73-topbar-link" title="Zobrazit rychl√© deploy p≈ô√≠kazy">Deploy</a>
 </nav>
 <div class="p73-topbar-actions">
   <a href="manual.html" target="_blank" class="p73-manual-btn" title="Otev≈ô√≠t manu√°l projektu">
     <span class="p73-manual-icon">M</span>
   </a>
   <div id="p73-topbar-status" class="p73-topbar-status"></div>
 </div>
</header>
<!-- Fallback script: pokud by nƒõkter√© odkazy v topbaru chybƒõly (nap≈ô. cache star√© verze), dynamicky je dopln√≠me -->
<script>
 (function ensureTopbarLinks(){
   try {
     const nav = document.querySelector('.p73-topbar-nav');
     if(!nav) return;
     const deployLink = nav.querySelector('#quick-deploy-btn');
     const anchorOrder = [
       { view:'dashboard', label:'Dashboard' },
       { view:'grid', label:'Grid' },
      { view:'elektrocz', label:'elektrocz.com' },
      { view:'notes', label:'Pozn√°mky' },
      { view:'notes-lab', label:'Notes Lab', href:'/DAY73/notes-lab.html' },
      // { view:'pokus', label:'POKUS' }, // REMOVED - archived
      { view:'mobile', label:'Mobil' },
      { view:'banners', label:'Banery' },
      { view:'pokus2', label:'POKUS 2' },
      // { view:'pokus6', label:'POKUS 6' }, // REMOVED - archived
       { view:'calendar', label:'Kalend√°≈ô', href:'?view=calendar#calendar' },
       { view:'assets', label:'Assets' },
       { view:'gallery', label:'Galerie' }
       // { view:'snippets', label:'K√≥dy' }, // REMOVED - archived
       // { view:'super-modul', label:'Super Modul' } // REMOVED - archived
     ];
     // Vlo≈æ√≠ chybƒõj√≠c√≠ odkazy P≈òED Deploy tlaƒç√≠tko zachov√°n√≠m p≈Øvodn√≠ho po≈ôad√≠
     anchorOrder.forEach(item => {
       if(!nav.querySelector(`[data-toplink="${item.view}"]`)){
         const a = document.createElement('a');
         a.className = 'p73-topbar-link';
         a.dataset.toplink = item.view;
         a.href = item.href || `?view=${item.view}`;
         a.textContent = item.label;
         nav.insertBefore(a, deployLink);
       }
     });
   } catch(err){
     console.warn('ensureTopbarLinks fallback selhal:', err);
   }
 })();
</script>
<script>
 (function initPokus2Dropdown(){
   const dropdown = document.querySelector('[data-dropdown="pokus2"]');
   if (!dropdown) return;

   const trigger = dropdown.querySelector('[data-toplink="pokus2"]');
   const panel = dropdown.querySelector('.p73-dropdown-panel');
   if (!trigger || !panel) return;

   let hideTimer = null;

   function openPanel(){
     clearTimeout(hideTimer);
     dropdown.classList.add('open');
     panel.hidden = false;
     trigger.setAttribute('aria-expanded', 'true');
   }

   function closePanel(){
     dropdown.classList.remove('open');
     panel.hidden = true;
     trigger.setAttribute('aria-expanded', 'false');
   }

   function scheduleClose(){
     clearTimeout(hideTimer);
     hideTimer = setTimeout(closePanel, 120);
   }

   dropdown.addEventListener('pointerenter', () => {
     clearTimeout(hideTimer);
     openPanel();
   });

   dropdown.addEventListener('pointerleave', scheduleClose);

   trigger.addEventListener('click', (event) => {
     event.preventDefault();
     if (dropdown.classList.contains('open')) {
       closePanel();
     } else {
       openPanel();
     }
   });

   trigger.addEventListener('focus', openPanel);
   trigger.addEventListener('blur', scheduleClose);
   panel.addEventListener('focusin', () => {
     clearTimeout(hideTimer);
     openPanel();
   });
   panel.addEventListener('focusout', scheduleClose);

   document.addEventListener('click', (event) => {
     if (!dropdown.contains(event.target)) {
       closePanel();
     }
   });
 })();
</script>
<div id="workspace-toolbar" class="workspace-toolbar" hidden>
  <div class="workspace-toolbar-left">
    <span id="workspace-toolbar-module" class="workspace-toolbar-module">Workspace</span>
    <span>‚Äî</span>
    <span id="workspace-toolbar-name" class="workspace-toolbar-name">New</span>
    <span id="workspace-toolbar-badge" class="workspace-toolbar-badge" hidden>V√Ωchoz√≠</span>
    <button id="workspace-setups-toggle" type="button" class="workspace-toolbar-link" hidden aria-expanded="false">
      <span class="workspace-setups-toggle-label">Ulo≈æen√© plochy</span>
      <span class="workspace-toolbar-caret">‚ñæ</span>
    </button>
  </div>
  <div class="workspace-toolbar-actions">
    <div class="workspace-toolbar-zoom">
      <button type="button" id="workspace-zoom-out" aria-label="Odd√°lit">‚àí</button>
      <span id="workspace-zoom-label" class="workspace-toolbar-zoom-label">100%</span>
      <button type="button" id="workspace-zoom-in" aria-label="P≈ôibl√≠≈æit">Ôºã</button>
    </div>
    <div id="workspace-toolbar-setups" class="workspace-toolbar-setups" hidden>
      <label for="workspace-setup-select" class="sr-only">Sestavy</label>
      <select id="workspace-setup-select" class="workspace-toolbar-select"></select>
      <button id="workspace-setup-load" type="button" class="workspace-toolbar-button workspace-toolbar-button--ghost">Naƒç√≠st</button>
      <button id="workspace-setup-default" type="button" class="workspace-toolbar-button workspace-toolbar-button--ghost" title="Nastavit jako v√Ωchoz√≠">V√Ωchoz√≠</button>
      <button id="workspace-setup-delete" type="button" class="workspace-toolbar-button workspace-toolbar-button--ghost" title="Smazat vybranou sestavu">Smazat</button>
    </div>
    <button id="workspace-toolbar-save" type="button" class="workspace-toolbar-button">Ulo≈æit</button>
    <button id="workspace-toolbar-new" type="button" class="workspace-toolbar-button">New</button>
  </div>
</div>
<div id="workspace-setups-drawer" class="workspace-setups-drawer" hidden>
  <div class="workspace-setups-header">
    <div class="workspace-setups-title">Ulo≈æen√© plochy</div>
    <button id="workspace-setups-close" type="button" class="workspace-setups-close" aria-label="Zav≈ô√≠t">√ó</button>
  </div>
  <div id="workspace-setups-empty" class="workspace-setups-empty" hidden></div>
  <div id="workspace-setups-list" class="workspace-setups-list"></div>
</div>
<div id="p73-status-banner"></div>

<button id="sidebar-toggle" aria-label="Otev≈ô√≠t/zav≈ô√≠t menu">
 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
</button>

<div id="sidebar">
 <div class="sidebar-header">Project_73 Menu</div>

 <div class="sidebar-section">
   <h3 class="font-medium mb-2">Pracovn√≠ plochy</h3>
   <p class="text-xs text-gray-500 mb-2">Klikni na plochu a pak na box v m≈ô√≠≈æce</p>
   <div class="workspace-panels">
     <!-- Panely budou dynamicky generov√°ny JavaScriptem -->
   </div>
   <button id="add-workspace-btn" class="mt-4 w-full px-3 py-2 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition">P≈ôidat nov√Ω projekt</button>
 </div>
 <div class="sidebar-section">
   <h3 class="font-medium mb-2">Nastaven√≠ m≈ô√≠≈æky</h3>
   <div class="flex flex-col gap-2">
<button id="clear-workspace-btn" class="px-3 py-2 bg-blue-100 hover:bg-blue-200 rounded text-sm">Vyƒçistit v≈°echny boxy</button>
     <button class="px-3 py-2 bg-blue-100 hover:bg-blue-200 rounded text-sm">Export dat</button>
   </div>
 </div>
 <div class="sidebar-section">
   <h3 class="font-medium mb-2">Informace o projektu</h3>
   <div class="text-sm">
     <p>Session ID: <span id="session-id-display">naƒç√≠t√°n√≠...</span></p>
     <p>Stav: <span id="firebase-status">naƒç√≠t√°n√≠...</span></p>
     <p>ƒåas naƒçten√≠: <span id="load-time-display">- ms</span></p>
   </div>
 </div>
 <div class="sidebar-section">
   <h3 class="font-medium mb-2">Statistiky</h3>
   <div class="text-sm"><p>Celkem box≈Ø: <span id="total-boxes">105</span></p><p>Vyplnƒõno: <span id="filled-boxes">0</span></p></div>
 </div>
 <div class="sidebar-section" id="archive-section">
   <h3 class="font-medium mb-2 flex items-center justify-between">
     <span>Smazan√© (archiv)</span>
     <button id="archive-refresh" class="text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded">‚Üª</button>
   </h3>
   <div class="text-xs text-gray-500 mb-2">Posledn√≠ smazan√© polo≈æky (3 dny)</div>
   <div id="archive-list" class="flex flex-col gap-2 max-h-48 overflow-auto text-xs"></div>
 </div>
 <div class="sidebar-section" id="deferred-section">
   <h3 class="font-medium mb-2 flex items-center justify-between">
     <span>Odlo≈æen√© √∫koly</span>
     <button id="deferred-add" class="text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">+</button>
   </h3>
   <div class="text-xs text-gray-500 mb-2">Rychl√© pozn√°mky k pozdƒõj≈°√≠mu ≈ôe≈°en√≠</div>
   <div class="flex gap-2 mb-2">
     <input id="deferred-title" type="text" placeholder="Nov√Ω √∫kol..." class="flex-1 px-2 py-1 border rounded text-sm" />
     <button id="deferred-save" class="text-xs px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600">Ulo≈æit</button>
   </div>
   <div id="deferred-list" class="flex flex-col gap-2 max-h-56 overflow-auto text-xs"></div>
 </div>
<div class="sidebar-section" id="calendar-section" data-anchor="calendar">
   <h3 class="font-medium mb-2 flex items-center justify-between">
     <span>Kalend√°≈ô</span>
     <a href="#calendar" class="text-[10px] px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded" title="Srolovat dol≈Ø na kalend√°≈ô" id="calendar-jump">‚á£</a>
   </h3>
   <div class="text-xs text-gray-500 mb-2">Jednoduch√© pl√°nov√°n√≠ pro aktu√°ln√≠ projekt</div>
   <div class="flex flex-col gap-2 mb-2">
<input id="calendar-title" type="text" placeholder="N√°zev ud√°losti" class="px-2 py-1 border rounded text-sm" />
<label for="calendar-date" class="sr-only">Datum ud√°losti</label>
<input id="calendar-date" type="date" aria-label="Datum ud√°losti" class="px-2 py-1 border rounded text-sm" />
     <button id="calendar-add" class="text-xs px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600">P≈ôidat ud√°lost</button>
   </div>
   <div id="calendar-list" class="flex flex-col gap-2 max-h-56 overflow-auto text-xs"></div>
 </div>
</div>

<div id="detail-panel">
 <div class="detail-panel-header">
   <h2>Detail boxu <span id="box-position"></span></h2>
   <button class="detail-panel-close" aria-label="Zav≈ô√≠t detail"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
 </div>
<div class="detail-section"><div class="detail-preview" id="box-preview"></div></div>
<div class="detail-section">
  <label class="text-xs font-semibold text-gray-500 uppercase tracking-wide">Obsah boxu (4 ≈ô√°dky)</label>
  <div id="box-multi-line-editor" class="mt-2 flex flex-col gap-2">
    <!-- Textarea pole budou dynamicky vlo≈æena zde -->
  </div>
  <div class="mt-2 flex justify-end">
      <button id="box-multi-line-save" type="button" class="rounded-lg bg-blue-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-600">Ulo≈æit obsah</button>
  </div>
  <p id="box-multi-line-feedback" class="mt-1 text-xs text-gray-400" hidden></p>
</div>
<div class="detail-section">
  <h3 class="font-medium mb-2">Barva pozad√≠</h3>
  <div id="detail-color-grid" class="detail-color-grid"></div>
  <button id="detail-color-clear" type="button" class="detail-color-clear">≈Ω√°dn√° barva</button>
</div>
<div class="detail-section">
  <h3 class="font-medium mb-2">Popis</h3>
  <textarea id="box-description" class="w-full p-3 border border-gray-300 rounded-lg" rows="4" placeholder="Zadejte popis tohoto boxu..."></textarea>
  <button id="save-description" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">Ulo≈æit popis</button>
</div>
<div class="detail-section">
  <h3 class="font-medium mb-2">Odkazy</h3>
  <div id="box-links-list" class="flex flex-col gap-2 rounded-lg border border-gray-200 bg-slate-50/60 p-3"></div>
  <div class="mt-3 grid gap-2 sm:grid-cols-[1fr,1.4fr,auto]">
    <input id="box-link-label" type="text" placeholder="Text odkazu" class="rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200" />
    <input id="box-link-url" type="url" placeholder="https://example.com" class="rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200" />
    <button id="box-link-save" type="button" class="rounded-lg bg-blue-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-600">+ P≈ôidat</button>
  </div>
  <div class="mt-3 flex flex-col gap-2">
    <textarea id="box-link-bulk" rows="4" class="rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200" placeholder="Myƒçky n√°dob√≠ | https://example.com
Dal≈°√≠ odkaz: https://example.com/page"></textarea>
    <div class="flex flex-wrap gap-2">
      <button id="box-link-bulk-save" type="button" class="rounded-lg border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-700 transition hover:bg-gray-100">Vlo≈æit v√≠ce odkaz≈Ø</button>
      <span class="text-xs text-gray-400">Ka≈æd√Ω ≈ô√°dek: ‚Äûn√°zev | URL‚Äú nebo ‚Äûn√°zev: URL‚Äú.</span>
    </div>
  </div>
  <p id="box-link-feedback" class="mt-2 text-xs" hidden></p>
</div>
<div class="detail-section">
  <h3 class="font-medium mb-2">Vlastnosti</h3>
  <div class="grid grid-cols-2 gap-2">
    <div class="p-3 bg-gray-100 rounded-lg"><div class="text-xs text-gray-500">Typ</div><div id="box-type">Standardn√≠</div></div>
     <div class="p-3 bg-gray-100 rounded-lg"><div class="text-xs text-gray-500">Vytvo≈ôeno</div><div id="box-created">-</div></div>
     <div class="p-3 bg-gray-100 rounded-lg"><div class="text-xs text-gray-500">Posledn√≠ √∫prava</div><div id="box-updated">-</div></div>
     <div class="p-3 bg-gray-100 rounded-lg"><div class="text-xs text-gray-500">Autor</div><div id="box-author">-</div></div>
   </div>
 </div>
</div>

<div class="nav-icons" id="nav-icons">
 <div class="nav-icon" data-action="rename" title="P≈ôejmenovat text">
     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
 </div>
 <div class="nav-icon" data-action="link" title="P≈ôidat odkaz">
     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
 </div>
 <div class="nav-icon" data-action="color" title="Zmƒõnit barvu">
     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0L12 2.69z"></path></svg>
 </div>
 <div class="nav-icon" data-action="delete" title="Smazat obsah (nebo kl√°vesa Del)">
     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
 </div>
 <div class="nav-color-panel" id="nav-color-panel" hidden>
   <div class="nav-color-swatches" id="nav-color-swatches"></div>
   <label class="nav-color-title" for="nav-color-title-input">
     <span>Nadpis</span>
     <input type="text" id="nav-color-title-input" placeholder="Nadpis (voliteln√©)" />
   </label>
   <div class="nav-color-actions">
     <button type="button" id="nav-color-apply" class="nav-color-btn nav-color-btn-primary">Ulo≈æit</button>
     <button type="button" id="nav-color-clear" class="nav-color-btn">Zru≈°it barvu</button>
   </div>
 </div>
</div>

<div class="workspace-loading" id="workspace-loading"><div class="workspace-loading-spinner"></div></div>

<!-- Vlastn√≠ (rychl√Ω) n√°hled pro p≈ôetahov√°n√≠ -->
<div id="drag-preview">P≈ôesunuji...</div>

<!-- NOV√ù KONTEJNER PRO M≈ò√ç≈ΩKU -->
<div id="grid-container"></div>
<div id="calendar-view" class="calendar-view-wrapper">
 <div class="calendar-view-header">
   <div class="calendar-view-title">Kalend√°≈ô ud√°lost√≠</div>
 </div>
 <div id="calendar-view-list" class="calendar-view-list"></div>
</div>
<div id="assets-view" class="assets-view-wrapper">
 <div class="assets-view-header">
   <div class="assets-view-title">Firebase Storage ‚Äì Assets</div>
   <button id="assets-refresh" class="assets-view-refresh">Obnovit</button>
 </div>
 <div id="assets-view-content" class="assets-view-grid"></div>
 <div id="assets-view-empty" class="text-sm text-gray-400"></div>
</div>
<div id="gallery-view" class="gallery-view-wrapper">
 <div class="gallery-view-header">
   <div class="gallery-view-title">Galerie ‚Äì v≈°echny obr√°zky</div>
   <div class="gallery-view-controls">
     <select id="gallery-filter" class="gallery-view-select">
       <option value="all">V≈°echny slo≈æky</option>
     </select>
     <select id="gallery-sort" class="gallery-view-select">
       <option value="desc">Nejvƒõt≈°√≠ ‚Üí Nejmen≈°√≠</option>
       <option value="asc">Nejmen≈°√≠ ‚Üí Nejvƒõt≈°√≠</option>
     </select>
     <button id="gallery-refresh" class="gallery-view-refresh">Obnovit</button>
   </div>
 </div>
 <div id="gallery-view-grid" class="gallery-view-grid"></div>
 <div id="gallery-view-empty" class="text-sm text-gray-400"></div>
</div>
<!-- ===== SNIPPET LIBRARY REMOVED ===== -->
<!-- Archived: modules/_archive/2025-10-05_snippet-library-v1/ -->

<div id="assets-modal-backdrop" class="assets-modal-backdrop">
 <div class="assets-modal">
   <div class="assets-modal-header">
     <h3 id="assets-modal-title">Assets</h3>
     <button id="assets-modal-close" class="assets-modal-close" aria-label="Zav≈ô√≠t">√ó</button>
   </div>
   <div class="assets-modal-body">
     <div id="assets-modal-summary" class="text-sm text-gray-500 mb-4"></div>
     <div id="assets-modal-grid" class="assets-modal-grid"></div>
     <div id="assets-modal-empty" class="text-sm text-gray-400"></div>
   </div>
 </div>
</div>

<div id="notes-app" hidden>
  <div class="notes-app" role="application" aria-label="Pozn√°mky Project_73">
    <aside class="notes-pane notes-pane--folders" aria-label="Slo≈æky pozn√°mek">
      <div class="notes-pane__header">
        <div class="notes-pane__brand">
          <span class="notes-pane__brand-title">iCloud</span>
          <div class="notes-pane__brand-actions">
            <button id="notes-folders-toggle" type="button" class="notes-link notes-link--ghost" aria-expanded="true" title="Skr√Ωt panel slo≈æek">Schovat slo≈æky</button>
            <button id="notes-folder-add" type="button" class="notes-link notes-link--new">+ Nov√° slo≈æka</button>
          </div>
        </div>
      </div>
      <nav id="notes-folder-tree" class="notes-folder-tree" role="tree" aria-label="Strom slo≈æek"></nav>
    </aside>

    <section class="notes-pane notes-pane--list" aria-label="Seznam pozn√°mek">
      <header class="notes-list-header">
        <div class="notes-list-header__titles">
          <h1 id="notes-current-folder-name" class="notes-list-title">Pozn√°mky</h1>
          <p class="notes-list-subtitle"><span id="notes-count">0</span> pozn√°mek</p>
        </div>
        <div class="notes-list-header__actions">
          <button id="notes-folders-toggle-inline" type="button" class="notes-folders-toggle-inline" aria-expanded="true" title="Schovat panel slo≈æek">Schovat slo≈æky</button>
          <button id="notes-compact-toggle" type="button" class="notes-icon-btn notes-icon-btn--ghost" title="P≈ôepnout kompaktn√≠ zobrazen√≠" aria-pressed="false">
            <span aria-hidden="true">‚ò∞</span>
            <span class="sr-only">P≈ôepnout kompaktn√≠ re≈æim</span>
          </button>
          <button id="notes-layout-toggle" type="button" class="notes-icon-btn notes-icon-btn--ghost" title="Prohodit panel pozn√°mek" aria-pressed="false">
            <span aria-hidden="true">‚áÜ</span>
            <span class="sr-only">Prohodit panel pozn√°mek</span>
          </button>
          <button id="notes-new" type="button" class="notes-icon-btn notes-icon-btn--primary" title="Nov√° pozn√°mka" aria-label="Nov√° pozn√°mka">
            <span aria-hidden="true">Ôºã</span>
          </button>
        </div>
      </header>
      <div id="notes-status" class="notes-status" role="status" aria-live="polite"></div>
      <div id="notes-locked" class="notes-empty notes-empty--muted" hidden>
        <strong>P≈ôihl√°≈°en√≠ vy≈æadov√°no.</strong>
        <p>Pozn√°mky jsou nav√°zan√© na tv≈Øj √∫ƒçet, p≈ôihlas se pros√≠m p≈ôes Google.</p>
      </div>
      <div id="notes-empty" class="notes-empty" hidden>
        <strong>Zat√≠m ≈æ√°dn√© pozn√°mky.</strong>
        <p>Zapi≈° si prvn√≠ n√°pad a vra≈• se k nƒõmu pozdƒõji.</p>
      </div>
      <ul id="notes-list" class="notes-list" role="listbox" aria-label="Pozn√°mky"></ul>
    </section>

    <section class="notes-pane notes-pane--editor" aria-label="Editor pozn√°mky">
      <div id="notes-editor" class="notes-editor" hidden>
        <header class="notes-editor-header">
          <div class="notes-editor-heading">
            <h2>Detail pozn√°mky</h2>
            <div class="notes-meta-wrapper">
              <button id="notes-meta-toggle" type="button" class="notes-info-pull" aria-haspopup="true" aria-expanded="false" aria-controls="notes-meta-popover" title="Detaily pozn√°mky">
                <span aria-hidden="true">‚Ñπ</span>
                <span>Informace</span>
              </button>
              <div id="notes-meta-popover" class="notes-meta-info" role="dialog" hidden>
                <div id="notes-detail-meta" class="notes-meta-info__content"></div>
                <div id="notes-meta-empty" class="notes-meta-empty">Detaily budou dostupn√© po ulo≈æen√≠.</div>
              </div>
            </div>
          </div>
          <div class="notes-editor-actions">
            <button id="notes-delete" type="button" class="notes-toolbar-delete" hidden title="Smazat pozn√°mku" aria-label="Smazat pozn√°mku">üóë</button>
          </div>
        </header>
        <div id="notes-editor-surface" class="notes-editor-surface" aria-live="polite"></div>
        <form id="notes-form" class="notes-editor-form" novalidate></form>
      </div>
    </section>
  </div>
</div>

<div id="banners-view" class="banners-view-wrapper" hidden>
  <div class="banners-content">
    <div class="w-full flex items-center justify-center bg-white p-4 rounded-2xl shadow-lg">
      <div class="canvas-container" data-role="banners-main-canvas">
        <canvas id="bannerCanvas"></canvas>
      </div>
    </div>

    <div id="compareContainer" class="banner-compare w-full hidden items-center justify-center bg-white p-4 rounded-2xl shadow-lg">
      <div class="canvas-container" data-role="banners-compare-canvas">
        <img id="compareImage" src="" alt="Vzorov√Ω banner" class="w-full h-full object-contain rounded-lg">
      </div>
    </div>

    <div class="w-full bg-white p-6 rounded-2xl shadow-lg">
      <div class="border-b border-gray-200 mb-6">
        <nav class="-mb-px flex space-x-6" aria-label="Tabs">
          <button id="tab-settings-btn" class="tab-button active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">
            Nastaven√≠
          </button>
          <button id="tab-manual-btn" class="tab-button text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">
            Manu√°l
          </button>
        </nav>
      </div>

      <div id="tab-settings-content" class="tab-content active">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
          <h2 class="text-2xl font-bold text-gray-800">Nastaven√≠ Banneru</h2>
          <div class="relative">
            <button id="toggleCompareBtn" title="Zobrazit/skr√Ωt vzor" class="text-gray-400 hover:text-indigo-600 transition p-2 rounded-full hover:bg-gray-100">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
            </button>
            <div id="compareError" class="banners-alert absolute top-full right-0 whitespace-nowrap pointer-events-none transition-opacity duration-300 opacity-0"></div>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8">
          <div class="space-y-6">
            <div>
              <label for="logoImage" class="block text-sm font-medium text-gray-700 mb-1">Logo</label>
              <input type="file" id="logoImage" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
            </div>
            <div>
              <label for="productImageURL" class="block text-sm font-medium text-gray-700 mb-1">Produktov√Ω obr√°zek URL (vpravo)</label>
              <input type="text" id="productImageURL" value="https://i.elektrocz.com/kampan-slider/data/1753862539.jpg" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
              <label for="compareImageInput" class="block text-sm font-medium text-gray-700 mb-1">Vzorov√Ω banner (pro porovn√°n√≠)</label>
              <input type="file" id="compareImageInput" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
            </div>
          </div>
          <div class="space-y-4">
            <div>
              <label for="headline1" class="block text-sm font-medium text-gray-700 mb-1">Nadpis 1. ≈ô√°dek</label>
              <input type="text" id="headline1" value="‚ÄûFryerka‚Äú zdarma" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
              <label for="headline2" class="block text-sm font-medium text-gray-700 mb-1">Nadpis 2. ≈ô√°dek</label>
              <input type="text" id="headline2" value="k indukƒçn√≠ desce*" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
              <label for="ctaText" class="block text-sm font-medium text-gray-700 mb-1">Text tlaƒç√≠tka</label>
              <input type="text" id="ctaText" value="To chci" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
              <label for="sloganText" class="block text-sm font-medium text-gray-700 mb-1">Slogan (nepovinn√©)</label>
              <input type="text" id="sloganText" value="Stvo≈ôeno pro ≈æivot" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>
          </div>
          <div class="space-y-4">
            <div>
              <label for="brandColor" class="block text-sm font-medium text-gray-700 mb-1">Barva tlaƒç√≠tka</label>
              <input type="color" id="brandColor" value="#007BC0" class="w-full h-10 p-1 border border-gray-300 rounded-lg cursor-pointer">
            </div>
            <div class="grid grid-cols-2 gap-4 pt-2 border-t">
              <div>
                <label for="canvasWidth" class="block text-sm font-medium text-gray-700 mb-1">≈†√≠≈ôka (px)</label>
                <input type="number" id="canvasWidth" value="2600" disabled class="w-full px-3 py-2 border border-gray-200 bg-gray-100 rounded-lg shadow-sm">
              </div>
              <div>
                <label for="canvasHeight" class="block text-sm font-medium text-gray-700 mb-1">V√Ω≈°ka (px)</label>
                <input type="number" id="canvasHeight" value="674" disabled class="w-full px-3 py-2 border border-gray-200 bg-gray-100 rounded-lg shadow-sm">
              </div>
            </div>
          </div>
        </div>

        <div class="mobile-section">
          <div class="mobile-section-header">
            <h3>Vzory banner≈Ø</h3>
            <p>Ulo≈æ hotov√© bannery jako referenci a jedn√≠m klikem je zobraz vedle aktu√°ln√≠ho n√°vrhu.</p>
          </div>
          <div>
            <label for="referenceBannerUpload" class="block text-sm font-medium text-gray-700 mb-1">Nahr√°t nov√Ω vzor</label>
            <input type="file" id="referenceBannerUpload" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
            <div id="referenceUploadProgress" class="mobile-progress" data-active="false"><div></div></div>
          </div>
          <div id="referenceSamplesEmpty" class="mobile-sample-empty" hidden>≈Ω√°dn√© vzorov√© bannery zat√≠m nejsou ulo≈æen√©.</div>
          <div id="referenceSamples" class="mobile-samples-grid"></div>
        </div>

        <div class="mobile-section">
          <h3 class="text-xl font-bold text-gray-800 mb-4">Samolepky</h3>
          <div>
            <label for="stickerUpload" class="block text-sm font-medium text-gray-700 mb-1">Nahr√°t novou samolepku</label>
            <input type="file" id="stickerUpload" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
            <div id="stickerUploadProgress" class="w-full bg-gray-200 rounded-full h-2.5 mt-2 hidden"><div class="bg-blue-600 h-2.5 rounded-full" style="width:0%"></div></div>
          </div>
          <div id="stickerGallery" class="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2 mt-4 p-2 border rounded-lg bg-gray-50"></div>
        </div>

        <div class="mobile-section">
          <h3 class="text-xl font-bold text-gray-800 mb-4">≈†ablony</h3>
          <div class="flex flex-col md:flex-row md:items-center md:space-x-2 space-y-2 md:space-y-0 mb-4">
            <input type="text" id="templateName" placeholder="N√°zev ≈°ablony..." class="flex-1 px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            <button id="saveTemplateBtn" class="bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition">Ulo≈æit</button>
          </div>
          <div id="templateList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"></div>
        </div>

        <div class="mt-8">
          <button id="downloadBtn" class="w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition">
            St√°hnout Banner
          </button>
        </div>
      </div>

      <div id="tab-manual-content" class="tab-content">
        <div class="prose max-w-none">
          <h2>Technick√Ω manu√°l</h2>
          <p>Tato aplikace je napojena na projekt ve slu≈æbƒõ Firebase. Vyu≈æ√≠v√° dvƒõ hlavn√≠ slu≈æby: <strong>Firestore Database</strong> pro ukl√°d√°n√≠ strukturovan√Ωch dat a <strong>Cloud Storage</strong> pro ukl√°d√°n√≠ soubor≈Ø (obr√°zk≈Ø samolepek).</p>
          <h3>Detaily p≈ôipojen√≠</h3>
          <ul>
            <li><strong>Project ID:</strong> <code>central-asset-storage</code></li>
            <li><strong>Cloud Storage Bucket:</strong> <code>central-asset-storage.appspot.com</code></li>
          </ul>
          <h3>Struktura dat</h3>
          <p>Ve≈°ker√° data aplikace jsou z bezpeƒçnostn√≠ch d≈Øvod≈Ø ukl√°d√°na pod specifickou cestou, kter√° zaji≈°≈•uje oddƒõlen√≠ dat mezi r≈Øzn√Ωmi aplikacemi.</p>
          <ul>
            <li><strong>≈†ablony banner≈Ø</strong> jsou ulo≈æeny v kolekci Firestore:<br><code>/artifacts/banner-creator-app/public/data/banner_templates</code></li>
            <li><strong>Metadata samolepek</strong> jsou ulo≈æena v kolekci Firestore:<br><code>/artifacts/banner-creator-app/public/data/stickers</code></li>
            <li><strong>Soubory samolepek</strong> se ukl√°daj√≠ do Cloud Storage do slo≈æky:<br><code>/artifacts/banner-creator-app/public/stickers/</code></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>



<div id="mobile-view" hidden>
  <iframe
    id="mobile-lab-frame"
    src="/DAY73/sandbox/notes-mobile-lab/index.html"
    title="Notes Lab Mobile"
    loading="lazy"
    allow="clipboard-write; camera; microphone"
    style="display:block;width:100%;height:calc(100vh - 80px);max-height:100vh;border:0;background:#f8fafc;"
  ></iframe>
</div>


<!-- ‚úÖ Quick Deploy Panel -->
<div id="deploy-panel" style="position:fixed; bottom:16px; right:16px; width:360px; background:#111827; color:#f1f5f9; font:12px/1.45 'Inter',sans-serif; padding:14px 16px; border-radius:12px; box-shadow:0 12px 32px rgba(0,0,0,.35); display:none; z-index:3000;">
 <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; gap:8px;">
   <strong style="font-size:13px;">‚ö° Quick Deploy</strong>
   <div style="display:flex; gap:4px;">
     <button id="deploy-mode" style="background:#1e293b;border:0;color:#cbd5e1;cursor:pointer;font-size:11px;padding:4px 10px;border-radius:8px;">Deploy</button>
     <button id="debug-mode" style="background:#374151;border:0;color:#9ca3af;cursor:pointer;font-size:11px;padding:4px 10px;border-radius:8px;">Debug</button>
     <button id="deploy-close" style="background:none;border:0;color:#94a3b8;cursor:pointer;font-size:16px;line-height:1;">√ó</button>
   </div>
 </div>
 <!-- QUICK_DEPLOY_COMMANDS_START -->
 <pre style="margin:0; white-space:pre; overflow:auto; max-height:170px;"><code id="deploy-commands"># ‚ö° Rychl√© volby (copy & paste podle situace)

# 1) 1:1 deploy ‚Äì nic nep≈ôegeneruje, vezme aktu√°ln√≠ build
firebase deploy --only hosting:onlineday73

# 2) Nov√Ω build + deploy (kdy≈æ se mƒõnil k√≥d / assets)
npm run sync:grid
npm run build
firebase deploy --only hosting:onlineday73

# 2b) Build + deploy i s functions (pokud se mƒõnily)
npm run sync:grid
npm run build
firebase deploy --only hosting:onlineday73,functions

# 3) Preview kan√°l (nap≈ô. PR 123, expirace 7 dn√≠)
firebase hosting:channel:deploy pr-123 --expires 7d --only hosting:onlineday73

# ‚ÑπÔ∏è Pozn√°mka: 'npm install' spus≈• jen p≈ôi zmƒõnƒõ z√°vislost√≠
</code></pre>
 <!-- QUICK_DEPLOY_COMMANDS_END -->
 <pre id="debug-commands" style="margin:0; white-space:pre; overflow:auto; max-height:170px; display:none;"><code># üêõ TROUBLESHOOTING: Zmƒõny se nezobrazuj√≠ v browseru

## 1. Cache probl√©m (nejƒçastƒõj≈°√≠)
# Hard refresh (vynucen√Ω reload):
Cmd+Shift+R (Mac) nebo Ctrl+Shift+R (PC)

# DevTools disable cache:
F12 ‚Üí Network tab ‚Üí ‚òë "Disable cache" ‚Üí reload

## 2. Dev server cache
# Restart Vite serveru:
Ctrl+C
npm run dev

## 3. Diagnostika v konzoli
# Zkontroluj element v DOM:
document.querySelector('[data-toplink="super-modul"]')

# Ovƒõ≈ô naƒçten√Ω soubor:
location.pathname
fetch(location.href.split('?')[0]).then(r=>r.text()).then(t=>console.log(t.includes('Super Modul')))

## 4. Duplicitn√≠ soubory
# Ujisti se, ≈æe upravuje≈° spr√°vn√Ω soubor:
# ‚úÖ DAY73/grid-app-test.html
# ‚ùå DAY73/grid-app-test (kopie).html

## 5. URL parametry pro cache-bust:
?v=1234567890&cache=false

# üí° TIP: V≈ædy jako prvn√≠ zkus hard refresh!
</code></pre>
 <div style="display:flex; gap:6px; margin-top:10px;">
   <button id="deploy-copy" style="flex:1; background:#2563eb; border:0; color:#fff; font-weight:600; padding:6px 10px; border-radius:8px; cursor:pointer;">Copy</button>
   <button id="deploy-min" style="background:#1e293b; border:0; color:#cbd5e1; padding:6px 10px; border-radius:8px; cursor:pointer;">Min</button>
 </div>
</div>

<!-- ===== SUPER MODUL REMOVED ===== -->
<!-- Archived: modules/_archive/2025-10-05_super-modul-v1/ -->
<!-- D≈Øvod: Pr√°zdn√° ≈°ablona bez funkcionality, nikdy nebyla vyu≈æita -->

<div id="dashboard-view" class="workspace-dashboard" hidden>
  <div class="dashboard-container">
    <div class="dashboard-header">
      <h1>Dashboard</h1>
      <p>P≈ôehled projekt≈Ø a kanban board</p>
    </div>

    <div class="dashboard-grid">
      <!-- Left: AI Projects -->
      <div class="dashboard-section">
        <div class="section-header">
          <span class="section-icon">ü§ñ</span>
          <h2>AI Projects</h2>
        </div>
        <div id="aiProjectsList" class="project-list">
          <!-- Projects rendered by dashboard-view.js -->
        </div>
      </div>

      <!-- Right: My Kanban -->
      <div class="dashboard-section">
        <div class="section-header">
          <span class="section-icon">üë§</span>
          <h2>My Kanban</h2>
        </div>
        <div class="kanban-board">
          <!-- TODO Column -->
          <div class="kanban-column">
            <div class="kanban-column-header">
              <div class="kanban-column-title">
                <span>üìã TODO</span>
                <span class="kanban-column-count" id="todoCount">0</span>
              </div>
            </div>
            <div class="kanban-cards"
                 id="todoCards"
                 data-column="todo"
                 ondragover="handleDragOver(event)"
                 ondrop="handleDrop(event, 'todo')">
              <!-- Cards rendered by dashboard-view.js -->
            </div>
            <button class="kanban-add-card" onclick="showAddCardForm('todo')">
              ‚ûï P≈ôidat kartu
            </button>
          </div>

          <!-- DOING Column -->
          <div class="kanban-column">
            <div class="kanban-column-header">
              <div class="kanban-column-title">
                <span>üîÑ DOING</span>
                <span class="kanban-column-count" id="doingCount">0</span>
              </div>
            </div>
            <div class="kanban-cards"
                 id="doingCards"
                 data-column="doing"
                 ondragover="handleDragOver(event)"
                 ondrop="handleDrop(event, 'doing')">
              <!-- Cards rendered by dashboard-view.js -->
            </div>
            <button class="kanban-add-card" onclick="showAddCardForm('doing')">
              ‚ûï P≈ôidat kartu
            </button>
          </div>

          <!-- DONE Column -->
          <div class="kanban-column">
            <div class="kanban-column-header">
              <div class="kanban-column-title">
                <span>‚úÖ DONE</span>
                <span class="kanban-column-count" id="doneCount">0</span>
              </div>
            </div>
            <div class="kanban-cards"
                 id="doneCards"
                 data-column="done"
                 ondragover="handleDragOver(event)"
                 ondrop="handleDrop(event, 'done')">
              <!-- Cards rendered by dashboard-view.js -->
            </div>
            <button class="kanban-add-card" onclick="showAddCardForm('done')">
              ‚ûï P≈ôidat kartu
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Upload Indicator -->
<div class="upload-indicator" id="uploadIndicator">üì§ Nahr√°v√°m obr√°zek...</div>

<script src="https://cdn.quilljs.com/1.3.7/quill.min.js" integrity="sha384-QUJ+ckWz1M+a7w0UfG1sEn4pPrbQwSxGm/1TIPyioqXBrwuT9l4f9gdHWLDLbVWI" crossorigin="anonymous"></script>
<script src="/DAY73-cloud/notes-view.js"></script>
<script type="module" src="/DAY73/modules/banners/banners.js"></script>
<script type="module" src="/DAY73/modules/mobile/mobile.js"></script>
<script type="module" src="/DAY73/modules/pokus/pokus.js"></script>
<script src="/DAY73-cloud/dashboard-view.js"></script>
<script src="/DAY73-cloud/grid-app-core.js"></script>
<script src="/DAY73-cloud/grid-app.js"></script>
<!-- Card Detail Panel -->
<div class="card-detail-overlay" id="cardDetailOverlay" onclick="closeCardDetail()"></div>
<div class="card-detail-panel" id="cardDetailPanel">
  <div class="card-detail-header">
    <input type="text" id="cardDetailTitle" class="card-detail-title-input" placeholder="N√°zev karty">
    <button onclick="closeCardDetail()" class="btn-close">‚úï</button>
  </div>
  <div class="card-detail-body">
    <div id="cardDetailEditor"></div>
  </div>
</div>

</body>
</html>
